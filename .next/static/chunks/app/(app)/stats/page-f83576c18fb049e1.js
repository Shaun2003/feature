(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{23511:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(95155),l=s(91337);function a({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"skeleton",className:(0,l.cn)("bg-accent animate-pulse rounded-md",e),...t})}},26769:(e,t,s)=>{Promise.resolve().then(s.bind(s,75530))},75530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var r=s(95155),l=s(12115),a=s(30783),i=s(76537),n=s(79984),c=s(24683),d=s(23511),o=s(15306),m=s(4450),x=s(48035),h=s(32539),u=s(59656),g=s(18662),p=s(75045),f=s(24758),j=s(68022),y=s(67389),N=s(10029),v=s(44071),k=s(94928),b=s(84980),w=s(65303),A=s(47149),C=s(127),L=s(94290),S=s(10013),q=s(11951),P=s(31069),T=s(7686),E=s(91337);let W=["oklch(0.72 0.25 142)","oklch(0.65 0.20 250)","oklch(0.70 0.20 30)","oklch(0.65 0.18 330)","oklch(0.75 0.15 80)"];function Z(){let e,[t,s]=(0,l.useState)(null),[P,T]=(0,l.useState)([]),[E,Z]=(0,l.useState)([]),[_,X]=(0,l.useState)(null),[$,H]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{!async function(){H(!0);try{let[e,t,r]=await Promise.all([(0,a.$I)(),(0,a.Yw)(10),(0,a.Gp)(5)]);s(e),T(t),Z(r),X((0,i.uL)())}catch(e){console.error("Error loading stats:",e)}finally{H(!1)}}()},[]),$)return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(d.E,{className:"h-10 w-48"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)(d.E,{className:"h-32 rounded-xl"},t))}),(0,r.jsx)(d.E,{className:"h-64 rounded-xl"})]});if(!t||!_)return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-secondary flex items-center justify-center mb-4",children:(0,r.jsx)(N.A,{className:"w-10 h-10 text-muted-foreground"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-foreground mb-2",children:"No stats yet"}),(0,r.jsx)("p",{className:"text-muted-foreground max-w-sm",children:"Start listening to music to build your stats and unlock achievements."})]});let I=(0,i.sH)(_.xp,_.level),K=(0,i.$S)(_.level),O=P.slice(0,5).map(e=>({name:e.title.length>20?e.title.slice(0,20)+"...":e.title,plays:e.playCount})),R=E.map((e,t)=>({name:e.artist.length>15?e.artist.slice(0,15)+"...":e.artist,value:e.playCount,fill:W[t%W.length]}));return(0,r.jsxs)("div",{className:"space-y-8 pb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Your Stats"}),(0,r.jsxs)(o.tU,{defaultValue:"overview",className:"w-full",children:[(0,r.jsxs)(o.j7,{className:"bg-secondary/50 p-1",children:[(0,r.jsxs)(o.Xi,{value:"overview",className:"data-[state=active]:bg-card gap-2",children:[(0,r.jsx)(v.A,{className:"w-4 h-4"}),"Overview"]}),(0,r.jsxs)(o.Xi,{value:"achievements",className:"data-[state=active]:bg-card gap-2",children:[(0,r.jsx)(k.A,{className:"w-4 h-4"}),"Achievements"]})]}),(0,r.jsxs)(o.av,{value:"overview",className:"mt-6 space-y-8",children:[(0,r.jsxs)(n.Zp,{className:"p-6 bg-gradient-to-br from-primary/10 via-transparent to-transparent border-primary/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-primary/20 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-2xl font-bold text-primary",children:_.level})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("h2",{className:"text-lg font-bold text-foreground",children:["Level ",_.level]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,i.eI)(_.level)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-lg font-bold text-primary",children:[_.xp," XP"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[K," XP to next level"]})]})]}),(0,r.jsx)(c.k,{value:I,className:"h-2"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsx)(D,{icon:b.A,label:"Total Listening",value:(0,a.WD)(t.totalListeningTime),accent:"text-blue-500",bgAccent:"bg-blue-500/10"}),(0,r.jsx)(D,{icon:N.A,label:"Tracks Played",value:t.totalTracks.toString(),accent:"text-primary",bgAccent:"bg-primary/10"}),(0,r.jsx)(D,{icon:w.A,label:"Artists",value:t.totalArtists.toString(),accent:"text-orange-500",bgAccent:"bg-orange-500/10"}),(0,r.jsx)(D,{icon:A.A,label:"Current Streak",value:`${_.streak} days`,accent:"text-orange-500",bgAccent:"bg-orange-500/10"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)(n.Zp,{className:"p-5 border-l-4 border-l-blue-500",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium uppercase tracking-wider mb-1",children:"This Week"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-foreground",children:(0,a.WD)(t.thisWeekListeningTime)})]}),(0,r.jsxs)(n.Zp,{className:"p-5 border-l-4 border-l-primary",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium uppercase tracking-wider mb-1",children:"This Month"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-foreground",children:(0,a.WD)(t.thisMonthListeningTime)})]})]}),_.weeklyChallenge&&(0,r.jsxs)(n.Zp,{className:"p-6 border-primary/20 bg-gradient-to-r from-primary/5 to-transparent",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,r.jsx)(C.A,{className:"w-5 h-5 text-primary"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-bold text-foreground",children:_.weeklyChallenge.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:_.weeklyChallenge.description})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsxs)("p",{className:"text-sm font-bold text-primary",children:["+",_.weeklyChallenge.reward," XP"]})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(c.k,{value:_.weeklyChallenge.progress/_.weeklyChallenge.target*100,className:"flex-1 h-2"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[_.weeklyChallenge.progress,"/",_.weeklyChallenge.target]})]})]}),O.length>0&&(0,r.jsxs)(n.Zp,{className:"p-6",children:[(0,r.jsxs)("h3",{className:"font-bold text-foreground mb-4 flex items-center gap-2",children:[(0,r.jsx)(L.A,{className:"w-5 h-5 text-primary"}),"Most Played Tracks"]}),(0,r.jsx)("div",{className:"h-64",children:(0,r.jsx)(m.u,{width:"100%",height:"100%",children:(0,r.jsxs)(x.E,{data:O,layout:"vertical",margin:{left:0,right:20},children:[(0,r.jsx)(h.W,{type:"number",hide:!0}),(0,r.jsx)(u.h,{type:"category",dataKey:"name",width:150,tick:{fill:"oklch(0.65 0 0)",fontSize:12}}),(0,r.jsx)(g.m,{contentStyle:{backgroundColor:"oklch(0.12 0 0)",border:"1px solid oklch(0.22 0 0)",borderRadius:"8px",color:"oklch(0.98 0 0)"}}),(0,r.jsx)(p.y,{dataKey:"plays",fill:"oklch(0.72 0.25 142)",radius:[0,4,4,0]})]})})})]}),R.length>0&&(0,r.jsxs)(n.Zp,{className:"p-6",children:[(0,r.jsxs)("h3",{className:"font-bold text-foreground mb-4 flex items-center gap-2",children:[(0,r.jsx)(S.A,{className:"w-5 h-5 text-primary"}),"Top Artists"]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[(0,r.jsx)("div",{className:"h-52 w-52",children:(0,r.jsx)(m.u,{width:"100%",height:"100%",children:(0,r.jsx)(f.r,{children:(0,r.jsx)(j.F,{data:R,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:4,dataKey:"value",children:R.map((e,t)=>(0,r.jsx)(y.f,{fill:e.fill},`cell-${t}`))})})})}),(0,r.jsx)("div",{className:"flex-1 space-y-3",children:R.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full shrink-0",style:{backgroundColor:e.fill}}),(0,r.jsx)("span",{className:"text-sm text-foreground flex-1 truncate",children:e.name}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.value," plays"]})]},e.name))})]})]}),P.length>0&&(0,r.jsxs)(n.Zp,{className:"p-6",children:[(0,r.jsx)("h3",{className:"font-bold text-foreground mb-4",children:"Your Top Tracks"}),(0,r.jsx)("div",{className:"space-y-3",children:P.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-secondary/50 transition-colors",children:[(0,r.jsx)("span",{className:"w-6 text-center text-sm font-bold text-muted-foreground",children:t+1}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:e.artist})]}),(0,r.jsxs)("div",{className:"text-right shrink-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[e.playCount," plays"]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,a.WD)(e.totalListeningTime)})]})]},e.trackId))})]})]}),(0,r.jsxs)(o.av,{value:"achievements",className:"mt-6 space-y-8",children:[(0,r.jsx)(n.Zp,{className:"p-6 bg-gradient-to-r from-orange-500/10 to-transparent border-orange-500/20",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-orange-500/20 flex items-center justify-center",children:(0,r.jsx)(A.A,{className:"w-8 h-8 text-orange-500"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-2xl font-bold text-foreground",children:[_.streak," Day Streak"]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Longest: ",_.longestStreak," days"]})]})]})}),_.achievements.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-2",children:[(0,r.jsx)(k.A,{className:"w-5 h-5 text-primary"}),"Unlocked (",_.achievements.length,")"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:_.achievements.map(e=>(0,r.jsx)(M,{achievement:e,unlocked:!0},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-foreground mb-4 flex items-center gap-2",children:[(0,r.jsx)(q.A,{className:"w-5 h-5 text-muted-foreground"}),"Locked"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(e=new Set(_.achievements.map(e=>e.id)),[{id:"first-play",title:"First Note",description:"Play your first track",icon:"play",category:"listening",requirement:1},{id:"tracks-10",title:"Getting Started",description:"Play 10 tracks",icon:"music",category:"listening",requirement:10},{id:"tracks-50",title:"Music Lover",description:"Play 50 tracks",icon:"headphones",category:"listening",requirement:50},{id:"tracks-100",title:"Audiophile",description:"Play 100 tracks",icon:"disc",category:"listening",requirement:100},{id:"tracks-500",title:"Vinyl Collector",description:"Play 500 tracks",icon:"library",category:"listening",requirement:500},{id:"minutes-60",title:"Hour Power",description:"Listen for 60 minutes",icon:"clock",category:"listening",requirement:60},{id:"minutes-600",title:"Marathon Listener",description:"Listen for 10 hours",icon:"timer",category:"listening",requirement:600},{id:"streak-3",title:"Hat Trick",description:"3-day listening streak",icon:"flame",category:"streak",requirement:3},{id:"streak-7",title:"Weekly Warrior",description:"7-day listening streak",icon:"fire",category:"streak",requirement:7},{id:"streak-30",title:"Monthly Master",description:"30-day listening streak",icon:"trophy",category:"streak",requirement:30},{id:"streak-100",title:"Century Club",description:"100-day listening streak",icon:"crown",category:"streak",requirement:100},{id:"likes-5",title:"Picky Listener",description:"Like 5 tracks",icon:"heart",category:"collection",requirement:5},{id:"likes-25",title:"Curator",description:"Like 25 tracks",icon:"heart-filled",category:"collection",requirement:25},{id:"likes-100",title:"Tastemaker",description:"Like 100 tracks",icon:"star",category:"collection",requirement:100},{id:"playlist-1",title:"DJ Beginner",description:"Create your first playlist",icon:"list-music",category:"collection",requirement:1},{id:"playlist-5",title:"Playlist Pro",description:"Create 5 playlists",icon:"list-plus",category:"collection",requirement:5}].filter(t=>!e.has(t.id))).map(e=>(0,r.jsx)(M,{achievement:e,unlocked:!1},e.id))})]})]})]})]})}function D({icon:e,label:t,value:s,accent:l,bgAccent:a}){return(0,r.jsxs)(n.Zp,{className:"p-4",children:[(0,r.jsx)("div",{className:(0,E.cn)("w-10 h-10 rounded-lg flex items-center justify-center mb-3",a),children:(0,r.jsx)(e,{className:(0,E.cn)("w-5 h-5",l)})}),(0,r.jsx)("p",{className:"text-2xl font-bold text-foreground",children:s}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:t})]})}function M({achievement:e,unlocked:t}){let s={play:N.A,music:N.A,headphones:S.A,disc:w.A,library:N.A,clock:b.A,timer:b.A,flame:A.A,fire:A.A,trophy:k.A,crown:P.A,heart:T.A,"heart-filled":T.A,star:L.A,"list-music":N.A,"list-plus":N.A}[e.icon]||q.A;return(0,r.jsxs)("div",{className:(0,E.cn)("flex items-center gap-4 p-4 rounded-xl border transition-colors",t?"bg-card border-primary/20":"bg-card/50 border-border/50 opacity-60"),children:[(0,r.jsx)("div",{className:(0,E.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0",t?"bg-primary/20":"bg-secondary"),children:(0,r.jsx)(s,{className:(0,E.cn)("w-6 h-6",t?"text-primary":"text-muted-foreground")})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-semibold text-sm text-foreground",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),t&&e.unlockedAt&&(0,r.jsxs)("p",{className:"text-xs text-primary mt-1",children:["Unlocked ",new Date(e.unlockedAt).toLocaleDateString()]})]})]})}}},e=>{e.O(0,[6679,1300,8349,6701,8351,8441,3794,7358],()=>e(e.s=26769)),_N_E=e.O()}]);