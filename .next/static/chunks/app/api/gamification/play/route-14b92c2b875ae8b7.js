(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4062,6081,7718],{34838:(e,t,i)=>{Promise.resolve().then(i.bind(i,76537))},76537:(e,t,i)=>{"use strict";i.d(t,{$S:()=>m,Zf:()=>p,eI:()=>f,kt:()=>g,recordLike:()=>k,recordPlay:()=>u,recordPlaylistCreate:()=>y,sH:()=>h,uL:()=>_});var r=i(98349),n=i.n(r);let a="user_gamification_data",l=[0,100,250,500,800,1200,1700,2300,3e3,4e3,5200,6500,8e3,1e4,12500,15500,19e3,23e3,28e3,35e3],o=[{id:"first-play",title:"First Note",description:"Play your first track",icon:"play",category:"listening",requirement:1},{id:"tracks-10",title:"Getting Started",description:"Play 10 tracks",icon:"music",category:"listening",requirement:10},{id:"tracks-50",title:"Music Lover",description:"Play 50 tracks",icon:"headphones",category:"listening",requirement:50},{id:"tracks-100",title:"Audiophile",description:"Play 100 tracks",icon:"disc",category:"listening",requirement:100},{id:"minutes-60",title:"Hour Power",description:"Listen for 60 minutes",icon:"clock",category:"listening",requirement:60},{id:"minutes-600",title:"Marathon Listener",description:"Listen for 10 hours",icon:"timer",category:"listening",requirement:600},{id:"streak-3",title:"Hat Trick",description:"3-day listening streak",icon:"flame",category:"streak",requirement:3},{id:"streak-7",title:"Weekly Warrior",description:"7-day listening streak",icon:"fire",category:"streak",requirement:7},{id:"streak-30",title:"Monthly Master",description:"30-day listening streak",icon:"trophy",category:"streak",requirement:30},{id:"likes-5",title:"Picky Listener",description:"Like 5 tracks",icon:"heart",category:"collection",requirement:5},{id:"likes-25",title:"Curator",description:"Like 25 tracks",icon:"heart-filled",category:"collection",requirement:25},{id:"likes-100",title:"Tastemaker",description:"Like 100 tracks",icon:"star",category:"collection",requirement:100},{id:"playlist-1",title:"DJ Beginner",description:"Create your first playlist",icon:"list-music",category:"collection",requirement:1},{id:"playlist-5",title:"Playlist Pro",description:"Create 5 playlists",icon:"list-plus",category:"collection",requirement:5},{id:"download-1",title:"Offline Explorer",description:"Download your first track",icon:"download",category:"collection",requirement:1},{id:"download-10",title:"On-the-Go",description:"Download 10 tracks",icon:"download-cloud",category:"collection",requirement:10},{id:"share-1",title:"Spreading the Word",description:"Share your first track",icon:"share",category:"social",requirement:1},{id:"share-10",title:"Socialite",description:"Share 10 tracks",icon:"share-2",category:"social",requirement:10}];async function s(){return await n().getItem(a)||{xp:0,level:1,streak:0,longest_streak:0,last_listened_date:null,total_tracks_played:0,total_listening_minutes:0,total_likes:0,total_playlists:0,total_downloads:0,total_shares:0,unlocked_achievements:new Set}}async function c(e){await n().setItem(a,e)}async function d(e,t){let i=await s(),r=i.level;t(i);let n=i.xp+e;i.xp=n;let a=function(e){for(let t=l.length-1;t>=0;t--)if(e>=l[t])return t+1;return 1}(n),d=a>r;i.level=a;let u=function(e){let t=[];for(let i of o){if(e.unlocked_achievements.has(i.id))continue;let r=0;switch(i.category){case"listening":r=i.id.includes("tracks")?e.total_tracks_played:i.id.includes("minutes")?e.total_listening_minutes:e.total_tracks_played;break;case"streak":r=e.streak;break;case"collection":i.id.includes("like")?r=e.total_likes:i.id.includes("playlist")?r=e.total_playlists:i.id.includes("download")&&(r=e.total_downloads);break;case"social":r=e.total_shares}r>=i.requirement&&(t.push(i),e.unlocked_achievements.add(i.id))}return t}(i);return await c(i),{newAchievements:u,leveledUp:d,newXp:n,userState:i}}function u(e=0){return d(10,t=>{t.total_tracks_played+=1,t.total_listening_minutes+=Math.round(e/60);let i=new Date().toDateString();if(t.last_listened_date!==i){let e=new Date(Date.now()-864e5).toDateString();t.last_listened_date===e?t.streak+=1:t.streak=1,t.last_listened_date=i,t.streak>t.longest_streak&&(t.longest_streak=t.streak)}})}function k(){return d(5,e=>{e.total_likes+=1})}function y(){return d(25,e=>{e.total_playlists+=1})}function g(){return d(15,e=>{e.total_downloads+=1})}let _=s;function p(e){for(let t=l.length-1;t>=0;t--)if(e>=l[t])return t+1;return 1}function m(e){return e>=l.length?2*l[l.length-1]:l[e]??l[0]}function h(e,t){let i=l[t-1]||0,r=m(t);return r===i?0:Math.min(Math.max((e-i)/(r-i)*100,0),100)}function f(e){let t=["Newbie","Listener","Fan","Enthusiast","Devotee","Connoisseur","Expert","Master","Legend","Virtuoso","Maestro","Prodigy","Savant","Luminary","Icon","Phenom","Oracle","Titan","Deity","Transcendent"];return t[Math.min(e-1,t.length-1)]||"Transcendent"}}},e=>{e.O(0,[8349,8441,3794,7358],()=>e(e.s=34838)),_N_E=e.O()}]);