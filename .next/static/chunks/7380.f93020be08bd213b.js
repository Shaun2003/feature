"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7380],{23511:(e,t,a)=>{a.d(t,{E:()=>n});var i=a(95155),r=a(91337);function n({className:e,...t}){return(0,i.jsx)("div",{"data-slot":"skeleton",className:(0,r.cn)("bg-accent animate-pulse rounded-md",e),...t})}},29486:(e,t,a)=>{a.d(t,{b:()=>o});var i=a(12115),r=a(55897),n=a(95155),s=i.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=s},33210:(e,t,a)=>{a.d(t,{A:()=>i});let i=(0,a(78340).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},39658:(e,t,a)=>{a.d(t,{p:()=>n});var i=a(95155);a(12115);var r=a(91337);function n({className:e,type:t,...a}){return(0,i.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}},43146:(e,t,a)=>{a.d(t,{UC:()=>Q,VY:()=>et,ZL:()=>H,bL:()=>W,bm:()=>ea,hE:()=>ee,hJ:()=>K});var i=a(12115),r=a(70379),n=a(47527),s=a(68599),o=a(89971),l=a(98979),d=a(98454),c=a(69885),u=a(19040),p=a(83935),f=a(55897),h=a(32007),m=a(78919),g=a(22954),y=a(42442),v=a(95155),x="Dialog",[b,w]=(0,s.A)(x),[j,T]=b(x),k=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:n,onOpenChange:s,modal:d=!0}=e,c=i.useRef(null),u=i.useRef(null),[p=!1,f]=(0,l.i)({prop:r,defaultProp:n,onChange:s});return(0,v.jsx)(j,{scope:t,triggerRef:c,contentRef:u,contentId:(0,o.B)(),titleId:(0,o.B)(),descriptionId:(0,o.B)(),open:p,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(e=>!e),[f]),modal:d,children:a})};k.displayName=x;var D="DialogTrigger";i.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,s=T(D,a),o=(0,n.s)(t,s.triggerRef);return(0,v.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":J(s.open),...i,ref:o,onClick:(0,r.m)(e.onClick,s.onOpenToggle)})}).displayName=D;var S="DialogPortal",[E,N]=b(S,{forceMount:void 0}),C=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:n}=e,s=T(S,t);return(0,v.jsx)(E,{scope:t,forceMount:a,children:i.Children.map(r,e=>(0,v.jsx)(p.C,{present:a||s.open,children:(0,v.jsx)(u.Z,{asChild:!0,container:n,children:e})}))})};C.displayName=S;var A="DialogOverlay",I=i.forwardRef((e,t)=>{let a=N(A,e.__scopeDialog),{forceMount:i=a.forceMount,...r}=e,n=T(A,e.__scopeDialog);return n.modal?(0,v.jsx)(p.C,{present:i||n.open,children:(0,v.jsx)(O,{...r,ref:t})}):null});I.displayName=A;var O=i.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=T(A,a);return(0,v.jsx)(m.A,{as:y.DX,allowPinchZoom:!0,shards:[r.contentRef],children:(0,v.jsx)(f.sG.div,{"data-state":J(r.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),$="DialogContent",_=i.forwardRef((e,t)=>{let a=N($,e.__scopeDialog),{forceMount:i=a.forceMount,...r}=e,n=T($,e.__scopeDialog);return(0,v.jsx)(p.C,{present:i||n.open,children:n.modal?(0,v.jsx)(P,{...r,ref:t}):(0,v.jsx)(R,{...r,ref:t})})});_.displayName=$;var P=i.forwardRef((e,t)=>{let a=T($,e.__scopeDialog),s=i.useRef(null),o=(0,n.s)(t,a.contentRef,s);return i.useEffect(()=>{let e=s.current;if(e)return(0,g.Eq)(e)},[]),(0,v.jsx)(F,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.m)(e.onFocusOutside,e=>e.preventDefault())})}),R=i.forwardRef((e,t)=>{let a=T($,e.__scopeDialog),r=i.useRef(!1),n=i.useRef(!1);return(0,v.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let i=t.target;a.triggerRef.current?.contains(i)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),F=i.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,u=T($,a),p=i.useRef(null),f=(0,n.s)(t,p);return(0,h.Oh)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.n,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:(0,v.jsx)(d.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":J(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Z,{titleId:u.titleId}),(0,v.jsx)(X,{contentRef:p,descriptionId:u.descriptionId})]})]})}),M="DialogTitle",L=i.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=T(M,a);return(0,v.jsx)(f.sG.h2,{id:r.titleId,...i,ref:t})});L.displayName=M;var U="DialogDescription",Y=i.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,r=T(U,a);return(0,v.jsx)(f.sG.p,{id:r.descriptionId,...i,ref:t})});Y.displayName=U;var B="DialogClose",G=i.forwardRef((e,t)=>{let{__scopeDialog:a,...i}=e,n=T(B,a);return(0,v.jsx)(f.sG.button,{type:"button",...i,ref:t,onClick:(0,r.m)(e.onClick,()=>n.onOpenChange(!1))})});function J(e){return e?"open":"closed"}G.displayName=B;var V="DialogTitleWarning",[q,z]=(0,s.q)(V,{contentName:$,titleName:M,docsSlug:"dialog"}),Z=({titleId:e})=>{let t=z(V),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},X=({contentRef:e,descriptionId:t})=>{let a=z("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return i.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},W=k,H=C,K=I,Q=_,ee=L,et=Y,ea=G},43928:(e,t,a)=>{a.d(t,{XB:()=>h,getPlaylistItems:()=>u,Pd:()=>c,K0:()=>l,eZ:()=>d});class i{get(e){let t=this.cache.get(e);return t?Date.now()-t.timestamp>t.ttl?(this.cache.delete(e),null):t.data:null}set(e,t,a=this.DEFAULT_TTL){this.cache.set(e,{data:t,timestamp:Date.now(),ttl:a})}clear(){this.cache.clear()}clearOldEntries(e=this.DEFAULT_TTL){let t=Date.now();for(let[a,i]of this.cache.entries())t-i.timestamp>e&&this.cache.delete(a)}constructor(){this.cache=new Map,this.DEFAULT_TTL=3e5}}let r=new i;function n(e,t){let a=new URLSearchParams(Object.entries(t).reduce((e,[t,a])=>(null!=a&&(e[t]=String(a)),e),{})).toString();return`${e}?${a}`}let s="AIzaSyCpbcqf4WZxq7UVJUZ-XVO7qTFpBeJE0kI",o="https://www.googleapis.com/youtube/v3";function l(e){if(!e||"string"!=typeof e)return!1;let t=e.trim();return/^[a-zA-Z0-9_-]{11}$/.test(t)}async function d(e,t){if(!s)return console.error("[v0] YouTube API key not configured"),{videos:[],playlists:[]};try{let a=n("search-youtube",{query:e});if(!t){let t=r.get(a);if(t)return console.log("[v0] Search cache hit:",e),t}let i=new URLSearchParams({part:"snippet",q:`${e} official audio`,type:"video,playlist",maxResults:"20",key:s});t&&i.append("pageToken",t);let d=await fetch(`${o}/search?${i.toString()}`);if(!d.ok)throw Error(`YouTube search failed: ${d.status}`);let c=await d.json(),u=c.items.filter(e=>"youtube#video"===e.id.kind),h=c.items.filter(e=>"youtube#playlist"===e.id.kind),m=u.map(e=>e.id.videoId).join(","),g=h.map(e=>({id:e.id.playlistId,title:e.snippet.title,description:e.snippet.description,thumbnail:e.snippet.thumbnails.high?.url||"",channelTitle:e.snippet.channelTitle})),y=[];if(m){let e=await fetch(`${o}/videos?part=contentDetails,snippet&id=${m}&key=${s}`);if(!e.ok)throw Error(`YouTube details failed: ${e.status}`);let t=(await e.json()).items.map(e=>{if(!l(e.id))return console.warn("[v0] Skipping video with invalid ID format:",e.id),null;let t=e.snippet.title,a=e.snippet.channelTitle,i=a;return t.includes(" - ")?i=t.split(" - ")[0].trim():t.includes(" | ")&&(i=t.split(" | ")[0].trim()),{id:e.id,title:p(t),artist:i,thumbnail:e.snippet.thumbnails.high?.url||"",duration:f(e.contentDetails.duration),channelTitle:a}});y.push(...t.filter(e=>null!==e))}let v={videos:y,playlists:g,nextPageToken:c.nextPageToken};return t||r.set(a,v),v}catch(e){return console.error("[v0] YouTube search error:",e),{videos:[],playlists:[]}}}async function c(){if(!s)return[];try{let e="trending-music",t=r.get(e);if(t)return console.log("[v0] Trending cache hit"),t;let a=await fetch(`${o}/videos?part=snippet,contentDetails&chart=mostPopular&regionCode=US&videoCategoryId=10&maxResults=20&key=${s}`);if(!a.ok)throw Error(`YouTube trending failed: ${a.status}`);let i=(await a.json()).items.map(e=>{let t=e.snippet.title,a=e.snippet.channelTitle,i=a;return t.includes(" - ")&&(i=t.split(" - ")[0].trim()),{id:e.id,title:p(t),artist:i,thumbnail:e.snippet.thumbnails.high?.url||"",duration:f(e.contentDetails.duration),channelTitle:a}});return r.set(e,i,36e5),i}catch(e){return console.error("[v0] YouTube trending error:",e),[]}}async function u(e,t=20){if(!s)return[];try{let a=n("playlist-items",{playlistId:e,maxResults:t}),i=r.get(a);if(i)return console.log("[v0] Playlist cache hit:",e),i;let d=await fetch(`${o}/playlistItems?part=snippet,contentDetails&playlistId=${e}&maxResults=${t}&key=${s}`);if(!d.ok)throw Error(`YouTube playlist failed: ${d.status}`);let c=(await d.json()).items.map(e=>e.contentDetails.videoId).join(",");if(!c)return[];let u=await fetch(`${o}/videos?part=contentDetails,snippet&id=${c}&key=${s}`);if(!u.ok)throw Error(`YouTube video details failed: ${u.status}`);return(await u.json()).items.map(e=>{if(!l(e.id))return console.warn("[v0] Skipping playlist item with invalid ID format:",e.id),null;let t=e.snippet.title,a=e.snippet.channelTitle,i=a;return t.includes(" - ")&&(i=t.split(" - ")[0].trim()),{id:e.id,title:p(t),artist:i,thumbnail:e.snippet.thumbnails.high?.url||"",duration:f(e.contentDetails.duration),channelTitle:a}}).filter(e=>null!==e)}catch(e){return console.error("[v0] YouTube playlist error:",e),[]}}function p(e){return e.replace(/\(Official\s*(Music\s*)?Video\)/gi,"").replace(/\[Official\s*(Music\s*)?Video\]/gi,"").replace(/\(Official\s*Audio\)/gi,"").replace(/\[Official\s*Audio\]/gi,"").replace(/\(Lyrics?\)/gi,"").replace(/\[Lyrics?\]/gi,"").replace(/\(Audio\)/gi,"").replace(/\[Audio\]/gi,"").replace(/\|.*$/g,"").replace(/\s+-\s+[^-]+$/,"").trim()}function f(e){let t=e.match(/PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?/);if(!t)return"0:00";let a=parseInt(t[1]||"0"),i=parseInt(t[2]||"0"),r=parseInt(t[3]||"0");return a>0?`${a}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${i}:${r.toString().padStart(2,"0")}`}function h(e){let t=e.split(":").map(Number);return 3===t.length?3600*t[0]+60*t[1]+t[2]:60*t[0]+(t[1]||0)}},51914:(e,t,a)=>{a.d(t,{A:()=>i});let i=(0,a(78340).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54614:(e,t,a)=>{a.d(t,{$o:()=>o,ToastProvider:()=>l});var i=a(95155),r=a(12115);let n=new Map,s=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};default:return e}},o=r.createContext(void 0),l=({children:e})=>{let[t,a]=r.useReducer(s,{toasts:[]});return r.useEffect(()=>{t.toasts.forEach(e=>{!1===e.open&&((e,t)=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),t({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)})(e.id,a)})},[t.toasts]),(0,i.jsx)(o.Provider,{value:{state:t,dispatch:a},children:e})}},74350:(e,t,a)=>{a.d(t,{Cf:()=>c,L3:()=>p,c7:()=>u,lG:()=>o,rr:()=>f});var i=a(95155);a(12115);var r=a(43146),n=a(33210),s=a(91337);function o({...e}){return(0,i.jsx)(r.bL,{"data-slot":"dialog",...e})}function l({...e}){return(0,i.jsx)(r.ZL,{"data-slot":"dialog-portal",...e})}function d({className:e,...t}){return(0,i.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function c({className:e,children:t,showCloseButton:a=!0,...o}){return(0,i.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,i.jsx)(d,{}),(0,i.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[t,a&&(0,i.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,i.jsx)(n.A,{}),(0,i.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,i.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function p({className:e,...t}){return(0,i.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...t})}function f({className:e,...t}){return(0,i.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}},79792:(e,t,a)=>{a.d(t,{J:()=>s});var i=a(95155);a(12115);var r=a(29486),n=a(91337);function s({className:e,...t}){return(0,i.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},81890:(e,t,a)=>{a.d(t,{d:()=>s});var i=a(12115),r=a(54614);let n=0;function s(){let e=i.useContext(r.$o);if(!e)throw Error("useToast must be used within a ToastProvider");let{state:t,dispatch:a}=e,s=i.useCallback(({...e})=>{let t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>a({type:"DISMISS_TOAST",toastId:t});return a({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||i()}}}),{id:t,dismiss:i}},[a]);return{...t,toast:s,dismiss:e=>a({type:"DISMISS_TOAST",toastId:e})}}},87380:(e,t,a)=>{a.r(t),a.d(t,{AddToPlaylistDialogClient:()=>m});var i=a(95155),r=a(12115),n=a(46400),s=a(4474),o=a(74350),l=a(39658),d=a(79792),c=a(23511),u=a(94514),p=a(51914),f=a(81890),h=a(43928);function m({open:e,onOpenChange:t,song:a,onAddSuccess:m}){let{currentSong:g}=(0,n.F)(),{toast:y}=(0,f.d)(),v=a||g,[x,b]=(0,r.useState)([]),[w,j]=(0,r.useState)(!1),[T,k]=(0,r.useState)(new Set),[D,S]=(0,r.useState)(!1),[E,N]=(0,r.useState)(""),[C,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&I()},[e]);let I=async()=>{try{j(!0);let e=await fetch("/api/playlists/list");if(!e.ok)throw Error("Failed to load playlists");let{data:t}=await e.json();b(t||[])}catch(e){console.error("Error loading playlists:",e),y({title:"Error",description:"Failed to load playlists",variant:"destructive"})}finally{j(!1)}},O=async e=>{if(v){k(t=>new Set([...t,e]));try{let t,a=await fetch("/api/playlists/tracks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlist_id:e,video_id:v.id,title:v.title,artist:v.channelTitle,thumbnail:v.thumbnail,duration:(0,h.XB)(v.duration)})});console.log("[v0] Add to playlist response status:",a.status);try{t=await a.json()}catch(e){t={}}if(console.log("[v0] Add to playlist response data:",t),409===a.status){console.log("[v0] 409 Conflict - track already in playlist"),y({title:"Info",description:t?.error||"Track already in this playlist"});return}if(!a.ok){let e=t?.error||"Failed to add to playlist";y({title:"Error",description:e,variant:"destructive"});return}y({title:"Success",description:"Added to playlist"}),m?.()}catch(e){console.error("[v0] Error adding to playlist:",e),y({title:"Error",description:e instanceof Error?e.message:"Failed to add to playlist",variant:"destructive"})}finally{k(t=>{let a=new Set(t);return a.delete(e),a})}}},$=async()=>{if(E.trim()&&v)try{A(!0);let e=await fetch("/api/playlists/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E.trim()})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create playlist")}let{data:t}=await e.json(),a=await fetch("/api/playlists/tracks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playlist_id:t.id,video_id:v.id,title:v.title,artist:v.channelTitle,thumbnail:v.thumbnail,duration:(0,h.XB)(v.duration)})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to add track to playlist")}y({title:"Success",description:"Playlist created and track added"}),N(""),S(!1),I()}catch(e){console.error("Error:",e),y({title:"Error",description:e instanceof Error?e.message:"Failed to create playlist",variant:"destructive"})}finally{A(!1)}};return v?(0,i.jsx)(o.lG,{open:e,onOpenChange:t,children:(0,i.jsxs)(o.Cf,{className:"sm:max-w-[400px]",children:[(0,i.jsxs)(o.c7,{children:[(0,i.jsx)(o.L3,{children:"Add to Playlist"}),(0,i.jsxs)(o.rr,{className:"truncate",children:['Adding "',v.title,'" to...']})]}),(0,i.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:w?(0,i.jsx)(i.Fragment,{children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(c.E,{className:"h-10 w-full"},t))}):x.length>0?x.map(e=>(0,i.jsxs)("button",{onClick:()=>O(e.id),disabled:T.has(e.id),className:"w-full flex items-center justify-between p-3 hover:bg-secondary rounded-lg transition-colors disabled:opacity-50",children:[(0,i.jsxs)("div",{className:"text-left",children:[(0,i.jsx)("p",{className:"font-medium",children:e.name}),e.description&&(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]}),T.has(e.id)?(0,i.jsx)("div",{className:"animate-spin",children:(0,i.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 2v4m0 12v4m10-10h-4m-12 0H2"})})}):(0,i.jsx)(u.A,{className:"w-4 h-4 text-primary opacity-0 group-hover:opacity-100"})]},e.id)):(0,i.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No playlists yet"})}),D?(0,i.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[(0,i.jsx)(d.J,{htmlFor:"new-playlist-name",children:"Playlist Name"}),(0,i.jsx)(l.p,{id:"new-playlist-name",placeholder:"Enter playlist name...",value:E,onChange:e=>N(e.target.value),disabled:C}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(s.$,{variant:"outline",onClick:()=>{S(!1),N("")},disabled:C,children:"Cancel"}),(0,i.jsx)(s.$,{onClick:$,disabled:!E.trim()||C,children:C?"Creating...":"Create & Add"})]})]}):(0,i.jsxs)(s.$,{onClick:()=>S(!0),variant:"outline",className:"w-full",children:[(0,i.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"New Playlist"]})]})}):null}},94514:(e,t,a)=>{a.d(t,{A:()=>i});let i=(0,a(78340).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}}]);