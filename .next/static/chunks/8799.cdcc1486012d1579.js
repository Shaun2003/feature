"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8799],{38799:(e,a,s)=>{s.r(a),s.d(a,{NowPlayingBarClient:()=>P});var t=s(95155),l=s(46400),r=s(7686),i=s(6296),n=s(34152),c=s(20232),o=s(65903),d=s(68939),h=s(30125),x=s(5121),m=s(53810),u=s(37416),f=s(98817),j=s(74643);let p=(0,s(78340).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);var w=s(56018),g=s(51914),N=s(4474),v=s(62705),b=s(91337),y=s(12115),k=s(98500),A=s.n(k),C=s(23623),z=s(57579),$=s(43447),S=s(81890),_=s(97784);function P({className:e,mobile:a}){let{currentSong:s,isPlaying:k,isLoading:P,currentTime:V,duration:D,volume:E,togglePlayPause:M,nextTrack:Q,previousTrack:O,seek:T,setVolume:B,shuffleQueue:X}=(0,l.F)(),{toast:F}=(0,S.d)(),[G,I]=(0,y.useState)(!1),[L,q]=(0,y.useState)(!1),[H,J]=(0,y.useState)("off"),[K,R]=(0,y.useState)(E),[U,W]=(0,y.useState)(!1),[Y,Z]=(0,y.useState)(!1);(0,y.useEffect)(()=>{s&&(0,C.BC)(s.id).then(I)},[s]);let ee=async()=>{s&&(G?(await (0,C.sr)(s.id),I(!1)):(await (0,C.r9)(s),I(!0)))},ea=async()=>{if(!s)return void F({title:"No song",description:"Please play a song first"});let e=await (0,z.bQ)(s);e&&F({title:"Shared",description:e})},es=e=>{if(!e||isNaN(e))return"0:00";let a=Math.floor(e/60),s=Math.floor(e%60);return`${a}:${s.toString().padStart(2,"0")}`};return s?a?(0,t.jsx)("div",{className:"fixed bottom-16 left-0 right-0 z-30 px-3 safe-area-bottom",children:(0,t.jsxs)("div",{className:"bg-card/95 backdrop-blur-xl rounded-xl shadow-lg border border-border overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-3 pt-2",children:[(0,t.jsx)(v.A,{value:[V],max:D||100,step:.1,onValueChange:e=>T(e[0]),className:"cursor-pointer"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,t.jsx)("span",{children:es(V)}),(0,t.jsx)("span",{children:es(D)})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[(0,t.jsx)(A(),{href:"/player",className:"block",children:(0,t.jsx)("div",{className:"w-11 h-11 rounded-lg overflow-hidden bg-secondary shrink-0",children:s.thumbnail?(0,t.jsx)("img",{src:s.thumbnail||"/placeholder.svg",alt:s.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-linear-to-br from-primary/30 to-primary/10",children:(0,t.jsx)("span",{className:"text-lg font-bold text-primary",children:s.title[0]})})})}),(0,t.jsxs)(A(),{href:"/player",className:"flex-1 min-w-0 block",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-foreground truncate",children:s.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:s.artist})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-9 h-9",onClick:e=>{e.preventDefault(),e.stopPropagation(),ee()},children:(0,t.jsx)(r.A,{className:(0,b.cn)("w-5 h-5",G&&"fill-primary text-primary")})}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-10 h-10",onClick:e=>{e.preventDefault(),e.stopPropagation(),M()},children:P?(0,t.jsx)(i.A,{className:"w-5 h-5 animate-spin"}):k?(0,t.jsx)(n.A,{className:"w-5 h-5"}):(0,t.jsx)(c.A,{className:"w-5 h-5 fill-current"})})]})]})]})}):(0,t.jsxs)("div",{className:(0,b.cn)("h-20 bg-card border-t border-border px-4 flex items-center justify-between gap-4",e),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 w-[30%] min-w-[180px]",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-md overflow-hidden bg-secondary shrink-0",children:s.thumbnail?(0,t.jsx)("img",{src:s.thumbnail||"/placeholder.svg",alt:s.title,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-linear-to-br from-primary/30 to-primary/10",children:(0,t.jsx)("span",{className:"text-xl font-bold text-primary",children:s.title[0]})})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-foreground truncate hover:underline cursor-pointer",children:s.title}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate hover:underline cursor-pointer",children:s.artist})]}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8 ml-2",onClick:ee,children:(0,t.jsx)(r.A,{className:(0,b.cn)("w-4 h-4",G&&"fill-primary text-primary")})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 w-[40%] max-w-[600px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>{q(!L),L||X()},children:(0,t.jsx)(o.A,{className:(0,b.cn)("w-4 h-4",L&&"text-primary")})}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:O,children:(0,t.jsx)(d.A,{className:"w-4 h-4 fill-current"})}),(0,t.jsx)(N.$,{size:"icon",className:"w-9 h-9 rounded-full bg-foreground text-background hover:bg-foreground/90 hover:scale-105 transition-transform",onClick:M,children:P?(0,t.jsx)(i.A,{className:"w-4 h-4 animate-spin"}):k?(0,t.jsx)(n.A,{className:"w-4 h-4"}):(0,t.jsx)(c.A,{className:"w-4 h-4 fill-current ml-0.5"})}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:Q,children:(0,t.jsx)(h.A,{className:"w-4 h-4 fill-current"})}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>{let e=["off","all","one"],a=e.indexOf(H);J(e[(a+1)%e.length])},children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.A,{className:(0,b.cn)("w-4 h-4","off"!==H&&"text-primary")}),"one"===H&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 text-[8px] font-bold text-primary",children:"1"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground w-10 text-right",children:es(V)}),(0,t.jsx)(v.A,{value:[V],max:D||100,step:1,onValueChange:e=>T(e[0]),className:"flex-1"}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground w-10",children:es(D)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2 w-[30%] min-w-[180px]",children:[(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:ea,title:"Share",children:(0,t.jsx)(m.A,{className:"w-4 h-4"})}),(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>W(!U),children:(0,t.jsx)(u.A,{className:(0,b.cn)("w-4 h-4",U&&"text-primary")})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-32",children:[(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",onClick:()=>{E>0?(R(E),B(0)):B(K||80)},children:0===E?(0,t.jsx)(f.A,{className:"w-4 h-4"}):(0,t.jsx)(j.A,{className:"w-4 h-4"})}),(0,t.jsx)(v.A,{value:[E],max:100,step:1,onValueChange:e=>B(e[0]),className:"flex-1"})]}),(0,t.jsx)(A(),{href:"/player",children:(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",children:(0,t.jsx)(p,{className:"w-4 h-4"})})}),(0,t.jsxs)($.rI,{children:[(0,t.jsx)($.ty,{asChild:!0,children:(0,t.jsx)(N.$,{variant:"ghost",size:"icon",className:"w-8 h-8",children:(0,t.jsx)(w.A,{className:"w-4 h-4"})})}),(0,t.jsxs)($.SQ,{align:"end",children:[(0,t.jsxs)($._2,{onClick:()=>Z(!0),children:[(0,t.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Add to Playlist"]}),(0,t.jsx)($._2,{onClick:ea,children:"Share Track"}),(0,t.jsx)($._2,{onClick:()=>{F({title:"Download",description:"Starting download..."})},children:"Save for Offline"})]})]})]}),(0,t.jsx)(_.X,{open:Y,onOpenChange:Z})]}):null}},56018:(e,a,s)=>{s.d(a,{A:()=>t});let t=(0,s(78340).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},57579:(e,a,s)=>{s.d(a,{bQ:()=>t});async function t(e){let a=`Check out "${e.title}" by ${e.artist}`,s=`${window.location.origin}?track=${e.id}`;if(navigator.share)try{await navigator.share({title:e.title,text:a,url:s});return}catch(e){console.error("Share failed:",e)}try{return await navigator.clipboard.writeText(`${a}
${s}`),"Copied to clipboard!"}catch(e){return console.error("Clipboard failed:",e),"Share failed"}}},62705:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(95155),l=s(12115),r=s(6415),i=s(91337);function n({className:e,defaultValue:a,value:s,min:n=0,max:c=100,...o}){let d=l.useMemo(()=>Array.isArray(s)?s:Array.isArray(a)?a:[n,c],[s,a,n,c]);return(0,t.jsxs)(r.bL,{"data-slot":"slider",defaultValue:a,value:s,min:n,max:c,className:(0,i.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[(0,t.jsx)(r.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,t.jsx)(r.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:d.length},(e,a)=>(0,t.jsx)(r.zi,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}},97784:(e,a,s)=>{s.d(a,{X:()=>r});var t=s(95155);let l=(0,s(37206).default)(()=>s.e(7380).then(s.bind(s,87380)).then(e=>e.AddToPlaylistDialogClient),{loadableGenerated:{webpack:()=>[87380]},ssr:!1});function r(e){return(0,t.jsx)(l,{...e})}}}]);